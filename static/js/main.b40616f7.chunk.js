(this["webpackJsonpplatzi-todo"]=this["webpackJsonpplatzi-todo"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,o){},,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var c=o(1),n=o.n(c),a=o(4),r=o.n(a),l=(o(13),o(7)),s=o(2);var d="TODOS_V1",i=o(0),u=n.a.createContext();function j(e){var t=function(e,t){var o=Object(c.useState)(null),n=Object(s.a)(o,2),a=n[0],r=n[1],l=Object(c.useState)(!0),d=Object(s.a)(l,2),i=d[0],u=d[1],j=Object(c.useState)(t),O=Object(s.a)(j,2),b=O[0],m=O[1];return Object(c.useEffect)((function(){setTimeout((function(){try{var o,c=localStorage.getItem(e);c?o=JSON.parse(c):(localStorage.setItem(e,JSON.stringify(t)),o=t),m(o),u(!1)}catch(a){r(a)}}),1e3)})),{value:b,saveValue:function(t){try{var o=JSON.stringify(t);localStorage.setItem(e,o),m(t)}catch(a){r(a)}},loading:i,error:a}}(d,[]),o=t.value,n=t.saveValue,a=t.loading,r=t.error,j=Object(c.useState)(""),O=Object(s.a)(j,2),b=O[0],m=O[1],f=Object(c.useState)(!1),h=Object(s.a)(f,2),x=h[0],v=h[1],g=o.filter((function(e){return e.completed})).length,p=o.length;return Object(i.jsx)(u.Provider,{value:{todos:o,saveTodos:n,loading:a,error:r,deleteTodo:function(e){var t=o.filter((function(t){return t._id!==e}));n(t)},completeTodo:function(e){var t=o.findIndex((function(t){return t._id===e})),c=Object(l.a)(o);c[t].completed=!o[t].completed,n(c)},completedTodos:g,totalTodos:p,searchValue:b,setSearchValue:m,modalState:x,toggleModal:function(){v(!x)},addTodo:function(e){try{var t={todo:e,completed:!1,_id:function(){var e=new Date,t=e.getFullYear(),o=e.getMonth(),c=e.getDay(),n=e.getTime();return"".concat(c).concat(o).concat(t).concat(n)}()};n([].concat(Object(l.a)(o),[t]))}catch(r){console.log(r)}}},children:e.children})}var O=o(8);o(15);function b(){var e=Object(c.useContext)(u),t=e.completedTodos,o=e.totalTodos;return Object(i.jsx)("h1",{className:"TodoCounter--title",children:"Has completado ".concat(t," de ").concat(o," TODOs")})}o(16);function m(){var e=Object(c.useContext)(u),t=e.searchValue,o=e.setSearchValue;return Object(i.jsx)("input",{className:"TodoSearch--input",type:"text",placeholder:"Buscar tarea",onChange:function(e){o(e.target.value)},value:t})}o(17);function f(e){var t=e.children;return Object(i.jsx)("div",{className:"TodoList",children:t})}o(18);function h(e){var t=e._id,o=e.completed,c=e.todo,n=e.deleteTodo,a=e.completeTodo;return Object(i.jsxs)("div",{className:"TodoItem",children:[Object(i.jsx)("span",{className:"\n          TodoItem--Status\n          ".concat(o?"completed":"not-completed","\n        "),onClick:function(){a(t)}}),Object(i.jsx)("p",{className:"TodoItem--Todo ".concat(o&&"underline"),children:c}),Object(i.jsx)("span",{className:"TodoItem--Delete",onClick:function(){n(t)},children:"X"})]})}o(19);function x(){var e=Object(c.useContext)(u).addTodo,t=Object(c.useState)(""),o=Object(s.a)(t,2),n=o[0],a=o[1];return Object(i.jsxs)("form",{className:"TodoForm",onSubmit:function(t){t.preventDefault(),0!==n.length&&(e(n),a(""))},children:[Object(i.jsx)("h1",{children:"Que haras ahora?"}),Object(i.jsx)("textarea",{placeholder:"Puedes escribir tu tarea aqu\xed",onChange:function(e){a(e.target.value)},value:n}),Object(i.jsx)("button",{children:"Agregar"})]})}o(20);function v(e){var t=e.onClick;return Object(i.jsx)("button",{className:"CreateTodoButton",onClick:t,children:"+"})}o(21);function g(e){var t=e.children,o=e.state,c=e.toggleModal;return o?Object(a.createPortal)(Object(i.jsx)("div",{className:"Modal__Container",children:Object(i.jsxs)("div",{className:"Modal__Content",children:[Object(i.jsx)("button",{onClick:c,className:"Modal__Button--close",children:"X"}),Object(i.jsx)("div",{className:"Modal__Content--div",children:t})]})}),document.getElementById("modal")):null}o(22);function p(){return Object(i.jsxs)("div",{className:"TodoSkeleton",children:[Object(i.jsx)("div",{className:"TodoSkeleton__Status"}),Object(i.jsxs)("div",{className:"TodoSkeleton__Text",children:[Object(i.jsx)("p",{}),Object(i.jsx)("p",{}),Object(i.jsx)("p",{})]}),Object(i.jsx)("div",{className:"TodoSkeleton__Close",children:Object(i.jsx)("button",{children:"x"})})]})}var T=function(e){var t=e.message;return Object(i.jsx)("p",{style:{color:"white",textAlign:"center"},children:t})},S=function(e){var t=e.searchTodo,o=Object(c.useContext)(u),n=o.error,a=o.loading,r=o.todos,l=o.searchValue,s=o.deleteTodo,d=o.completeTodo,j=o.modalState,S=o.toggleModal;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b,{}),Object(i.jsx)(m,{}),Object(i.jsxs)(f,{children:[n&&Object(i.jsx)(T,{message:"A ocurrido un error al cargar los todos"}),a&&new Array(3).fill().map((function(e,t){return Object(i.jsx)(p,{},t)})),!a&&0===r.length&&Object(i.jsx)(T,{message:"Crea tu primer TODO :D"}),r.filter(t(l)).map((function(e){return Object(i.jsx)(h,Object(O.a)(Object(O.a)({},e),{},{deleteTodo:s,completeTodo:d}),e._id)}))]}),Object(i.jsx)(g,{state:j,toggleModal:S,children:Object(i.jsx)(x,{})}),Object(i.jsx)(v,{onClick:S})]})},C=function(e){return function(t){var o=t.todo;return String(o).toLowerCase().includes(e.toLowerCase())}};var N=function(){return Object(i.jsx)(j,{children:Object(i.jsx)(S,{searchTodo:C})})};r.a.render(Object(i.jsx)(N,{}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.b40616f7.chunk.js.map